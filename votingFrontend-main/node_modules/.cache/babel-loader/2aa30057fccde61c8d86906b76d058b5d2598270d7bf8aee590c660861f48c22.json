{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sonia\\\\OneDrive\\\\Desktop\\\\5th sem\\\\Blockchain based online voting system\\\\votingFrontend-main\\\\src\\\\transaction\\\\Transaction.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport TxList from \"./TxList\";\nconst startPayment = async _ref => {\n  let {\n    setError,\n    setTxs,\n    ether,\n    addr\n  } = _ref;\n  try {\n    if (!window.ethereum) throw new Error(\"No crypto wallet found. Please install it.\");\n    await window.ethereum.send(\"eth_requestAccounts\");\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const signer = provider.getSigner();\n    ethers.utils.getAddress(addr);\n    const tx = await signer.sendTransaction({\n      to: addr,\n      value: ethers.utils.parseEther(ether)\n    });\n    console.log({\n      ether,\n      addr\n    });\n    console.log(\"tx\", tx);\n    setTxs([tx]);\n  } catch (err) {\n    setError(err.message);\n  }\n};\nconst Transaction = () => {\n  _s();\n  const [error, setError] = useState();\n  const [txs, setTxs] = useState([]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const data = new FormData(e.target);\n    setError();\n    await startPayment({\n      setError,\n      setTxs,\n      ether: data.get(\"ether\"),\n      addr: data.get(\"addr\")\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"m-4\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"credit-card w-full lg:w-1/2 sm:w-auto shadow-lg mx-auto rounded-xl bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"mt-4 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-xl font-semibold text-gray-700 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, \"Send ETH payment\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"addr\",\n    className: \"input input-bordered block w-full focus:ring focus:outline-none\",\n    placeholder: \"Recipient Address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"ether\",\n    type: \"text\",\n    className: \"input input-bordered block w-full focus:ring focus:outline-none\",\n    placeholder: \"Amount in ETH\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"footer\", {\n    className: \"p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary submit-button focus:ring focus:outline-none w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"Pay now\"), /*#__PURE__*/React.createElement(ErrorMessage, {\n    message: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TxList, {\n    txs: txs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }))));\n};\n_s(Transaction, \"HXS0SvOWJUPoZwy4VdSQopbB26M=\");\n_c = Transaction;\nexport default Transaction;\nvar _c;\n$RefreshReg$(_c, \"Transaction\");","map":{"version":3,"names":["React","useState","ethers","ErrorMessage","TxList","startPayment","_ref","setError","setTxs","ether","addr","window","ethereum","Error","send","provider","providers","Web3Provider","signer","getSigner","utils","getAddress","tx","sendTransaction","to","value","parseEther","console","log","err","message","Transaction","_s","error","txs","handleSubmit","e","preventDefault","data","FormData","target","get","createElement","className","onSubmit","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","name","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/Sonia/OneDrive/Desktop/5th sem/Blockchain based online voting system/votingFrontend-main/src/transaction/Transaction.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport TxList from \"./TxList\";\n\nconst startPayment = async ({ setError, setTxs, ether, addr }) => {\n    try {\n        if (!window.ethereum)\n            throw new Error(\"No crypto wallet found. Please install it.\");\n\n        await window.ethereum.send(\"eth_requestAccounts\");\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const signer = provider.getSigner();\n        ethers.utils.getAddress(addr);\n        const tx = await signer.sendTransaction({\n            to: addr,\n            value: ethers.utils.parseEther(ether),\n        });\n        console.log({ ether, addr });\n        console.log(\"tx\", tx);\n        setTxs([tx]);\n    } catch (err) {\n        setError(err.message);\n    }\n};\n\nconst Transaction = () => {\n    const [error, setError] = useState();\n    const [txs, setTxs] = useState([]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const data = new FormData(e.target);\n        setError();\n        await startPayment({\n            setError,\n            setTxs,\n            ether: data.get(\"ether\"),\n            addr: data.get(\"addr\")\n        });\n    };\n\n    return (\n        <form className=\"m-4\" onSubmit={handleSubmit}>\n            <div className=\"credit-card w-full lg:w-1/2 sm:w-auto shadow-lg mx-auto rounded-xl bg-white\">\n                <main className=\"mt-4 p-4\">\n                    <h1 className=\"text-xl font-semibold text-gray-700 text-center\">\n                        Send ETH payment\n                    </h1>\n                    <div className=\"\">\n                        <div className=\"my-3\">\n                            <input\n                                type=\"text\"\n                                name=\"addr\"\n                                className=\"input input-bordered block w-full focus:ring focus:outline-none\"\n                                placeholder=\"Recipient Address\"\n                            />\n                        </div>\n                        <div className=\"my-3\">\n                            <input\n                                name=\"ether\"\n                                type=\"text\"\n                                className=\"input input-bordered block w-full focus:ring focus:outline-none\"\n                                placeholder=\"Amount in ETH\"\n                            />\n                        </div>\n                    </div>\n                </main>\n                <footer className=\"p-4\">\n                    <button\n                        type=\"submit\"\n                        className=\"btn btn-primary submit-button focus:ring focus:outline-none w-full\"\n                    >\n                        Pay now\n                    </button>\n                    <ErrorMessage message={error} />\n                    <TxList txs={txs} />\n                </footer>\n            </div>\n        </form>\n    );\n}\nexport default Transaction;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}